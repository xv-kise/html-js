<!DOCTYPE html>
<!--HTML初心者が書いた-->
<head>
    <title>¢urr€₦¢¥ ¢¤₦v€r₮€r</title>
</head>
<body>
    <h2>¢urr€₦¢¥ ¢¤₦v€r₮€r</h2>
    <p>
    アルファベットの文をできる限り通貨記号に変換します<br>
    例: "Hello, World!" → "H€₺₺¤, ₩¤r₺₫!.
    </p>
    
    <p>
    <b>変換前</b><br>
    <textarea cols="50" rows="5" type="text" id="textbox1"></textarea>
    <button type="button" onclick="changelabel(conv_currency());">変換</button>
    </p>

    <p>
    <b>変換後</b>
    <div id="display">
        ...
        </div>
    </p>
    <script>
        var box1 = document.getElementById("textbox1");
        var alphabet_money = //アルファベットに対応する通貨記号一覧（ここになければそのまま返される）
        {"A":"₳", "B":"฿", "C":"¢", "D":"₫", "E":"€", "F":"₣", "G":"₲", "K":"₭", "L":"₺",
         "M":"₥", "N":"₦", "O":"¤", "P":"₽", "S":"$", "T":"₮", "W":"₩", "Y":"¥"}
        
        function changelabel(next){ //ラベルを変える関数
            var text = document.getElementById("display");
            text.innerHTML = next;
        }
        function conv_currency(){ //通貨記号を変換する関数
            const original = box1.value;
            var result = [];
            for (var loop = 0; loop < original.length; loop++) {
                i = original.charAt(loop); //入力をループごと順に1文字ずつ取得し、通貨記号などに変換出来るなら変換する変数
                if (i == "\n") {
                    i = "<br>"
                }
                if (i.toUpperCase() in alphabet_money) {
                    i = alphabet_money[i.toUpperCase()];
                }
                result.push(i); //加工後の文字が1文字ずつ入るリスト
            }
            console.log(result); //debug
            result = result.join(""); //リストを文字列に変換
            return result;
        }
    </script>
</body>
